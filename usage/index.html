<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://breakid.github.io/terminal_sync/usage/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Usage - terminal_sync</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Usage";
        var mkdocs_page_input_path = "usage.md";
        var mkdocs_page_url = "/terminal_sync/usage/";
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> terminal_sync
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Getting Started</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../quickstart/">Quickstart</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../setup/">Setup</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Usage</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#specify-the-source-host">Specify the Source Host</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#add-a-description">Add a Description</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#log-ad-hoc-commands">Log Ad-hoc Commands</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#enable-disable-terminal_sync">Enable / Disable terminal_sync</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#adjust-console-output-at-runtime">Adjust Console Output at Runtime</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#export-logs-to-ghostwriter-csv">Export Logs to GhostWriter CSV</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../updating/">Updating</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../troubleshooting/">Troubleshooting</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Development</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../architecture/">Architecture</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../developer_guide/">Developer Guide</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../style_guide/">Style Guide</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">terminal_sync</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>Getting Started &raquo;</li>
      <li>Usage</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="usage">Usage</h1>
<p>The entire point of terminal_sync is to log shell commands automatically. Therefore, once the <a href="../setup/">server is setup and the hooks are registered</a>, no further action is necessary. That said, the following are a few runtime options that can enhance the user experience.</p>
<hr />
<h2 id="specify-the-source-host">Specify the Source Host</h2>
<p>Set the environment variable <code>SRC_HOST</code> to the host where your activity will originate. This value will appear in the Source field on GhostWriter and is particularly useful when operating over a SOCKS proxy or tunnel. If the client (i.e., hook) environment is different than the terminal_sync server environment (e.g., if using Docker), the client-side value will override the server-side value.</p>
<p>If this value is not provided, terminal_sync will default to the hostname and IP of the host where the server is running. If using Docker, this will be the container.</p>
<h2 id="add-a-description">Add a Description</h2>
<p>terminal_sync allows users to (optionally) specify a description at the end of each command. Anything that appears after the string specified by the <code>gw_description_token</code> setting will be extracted and used as the Description attribute of the log entry.</p>
<p><strong>Note</strong>: This token must begin with a <code>#</code> so that Bash and PowerShell interpret it, and everything that follows, as a comment and don't attempt to execute the description text.</p>
<h2 id="log-ad-hoc-commands">Log Ad-hoc Commands</h2>
<p>Since the <code>gw_description_token</code> inherently triggers logging, users can append this string to any command, with or without additional text, to force an individual command to be logged.</p>
<h2 id="enable-disable-terminal_sync">Enable / Disable terminal_sync</h2>
<p>Run <code>Disable-TermSync</code> to temporarily disable terminal_sync once hooks are registered for that session. To re-enable it, run <code>Enable-TermSync</code>. These commands set a flag that is checked when each hook is run, skipping the hook logic if disabled, and consequently only affect the current session.</p>
<p>To permanently disable terminal_sync, delete or comment out the line in <code>~/.bashrc</code> or your PowerShell <code>$PROFILE</code> that loads the hooks.</p>
<h2 id="adjust-console-output-at-runtime">Adjust Console Output at Runtime</h2>
<p>Both the Bash script and PowerShell module contain a configuration setting that allows users to set the default console output; however, this can be changed (temporarily) for a session, using the <code>Set-TermSyncVersbosity</code> command.</p>
<p>In Bash, simply run <code>Set-TermSyncVersbosity</code>; this will print a list of display settings and prompt you for a number. Enter the number that matches your preferred setting.</p>
<p>In PowerShell, type <code>Set-TermSyncVerbosity</code>, followed by a space, then press <strong>Tab</strong> to cycle through the available options. Press <strong>Enter</strong> to select your preferred setting.</p>
<h2 id="export-logs-to-ghostwriter-csv">Export Logs to GhostWriter CSV</h2>
<p>Any log entries that cannot be sent to GhostWriter successfully, such as due to a configuration or connectivity issue, will be saved (local to the server) in JSON format. The configuration setting <code>termsync_save_all_local</code> can be used to override this behavior and save all entries, even those logged to GhostWriter successfully. If the GhostWrite URL or API keys are not provided, this setting is automatically enabled to prevent accidental loss of logs.</p>
<p>On shutdown, the terminal_sync server will attempt to export these saved logs to a timestamped CSV file that can be imported to GhostWriter. The <code>export_csv.py</code> script can also be run manually to generate a CSV file without stopping the server.</p>
<pre><code class="language-bash"># Usage:
# export_csv.py [-h] -l LOG_DIR [-o OUTPUT_DIR]

# Example:
python src/terminal_sync/export_csv.py -l log_archive
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../setup/" class="btn btn-neutral float-left" title="Setup"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../updating/" class="btn btn-neutral float-right" title="Updating">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../setup/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../updating/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
